import { ConfigService } from '@nestjs/config';
import { PrismaService } from '../../prisma/prisma.service';
export declare class OAuthService {
    private prisma;
    private config;
    private readonly logger;
    private oauth2Client;
    private oauthStateStore;
    constructor(prisma: PrismaService, config: ConfigService);
    storeOAuthState(userId: string, workspaceId: string): void;
    retrieveOAuthState(userId: string): string | null;
    getGmailAuthUrl(userId?: string): string;
    exchangeCodeForTokens(code: string): Promise<{
        accessToken: any;
        refreshToken: any;
        expiresAt: Date | null;
        email: string | null | undefined;
    }>;
    saveGmailCredentials(userId: string, email: string, accessToken: string, refreshToken: string | null | undefined, expiresAt: Date | null, workspaceId?: string): Promise<{
        id: string;
        userId: string;
        workspaceId: string | null;
        providerType: import("@prisma/client").$Enums.OAuthProviderType;
        providerPlan: string | null;
        providerUserId: string | null;
        providerEmail: string | null;
        accessToken: string;
        refreshToken: string | null;
        tokenType: string;
        expiresAt: Date | null;
        scope: string | null;
        metadata: import("@prisma/client/runtime/library").JsonValue;
        webhookUrl: string | null;
        webhookSigningKey: string | null;
        webhookEnabled: boolean;
        webhookLastVerifiedAt: Date | null;
        webhookFailedAttempts: number;
        pollingEnabled: boolean;
        pollingLastRunAt: Date | null;
        pollingCursor: string | null;
        apiRateLimitRemaining: number | null;
        apiRateLimitResetAt: Date | null;
        isActive: boolean;
        lastUsedAt: Date | null;
        lastSyncedAt: Date | null;
        deletedAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    refreshAccessToken(refreshToken: string): Promise<{
        accessToken: any;
        expiresAt: Date | null;
    }>;
    getGmailCredentials(workspaceId: string): Promise<{
        accessToken: any;
        expiresAt: Date | null;
        id: string;
        userId: string;
        workspaceId: string | null;
        providerType: import("@prisma/client").$Enums.OAuthProviderType;
        providerPlan: string | null;
        providerUserId: string | null;
        providerEmail: string | null;
        refreshToken: string | null;
        tokenType: string;
        scope: string | null;
        metadata: import("@prisma/client/runtime/library").JsonValue;
        webhookUrl: string | null;
        webhookSigningKey: string | null;
        webhookEnabled: boolean;
        webhookLastVerifiedAt: Date | null;
        webhookFailedAttempts: number;
        pollingEnabled: boolean;
        pollingLastRunAt: Date | null;
        pollingCursor: string | null;
        apiRateLimitRemaining: number | null;
        apiRateLimitResetAt: Date | null;
        isActive: boolean;
        lastUsedAt: Date | null;
        lastSyncedAt: Date | null;
        deletedAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
    } | null>;
    getEmailProvider(workspaceId: string): Promise<{
        type: "GMAIL";
        credentials: {
            accessToken: any;
            expiresAt: Date | null;
            id: string;
            userId: string;
            workspaceId: string | null;
            providerType: import("@prisma/client").$Enums.OAuthProviderType;
            providerPlan: string | null;
            providerUserId: string | null;
            providerEmail: string | null;
            refreshToken: string | null;
            tokenType: string;
            scope: string | null;
            metadata: import("@prisma/client/runtime/library").JsonValue;
            webhookUrl: string | null;
            webhookSigningKey: string | null;
            webhookEnabled: boolean;
            webhookLastVerifiedAt: Date | null;
            webhookFailedAttempts: number;
            pollingEnabled: boolean;
            pollingLastRunAt: Date | null;
            pollingCursor: string | null;
            apiRateLimitRemaining: number | null;
            apiRateLimitResetAt: Date | null;
            isActive: boolean;
            lastUsedAt: Date | null;
            lastSyncedAt: Date | null;
            deletedAt: Date | null;
            createdAt: Date;
            updatedAt: Date;
        };
        config?: undefined;
    } | {
        type: "SYSTEM";
        config: {
            host: any;
            port: number;
            secure: boolean;
            auth: {
                user: any;
                pass: any;
            };
            from: {
                email: any;
                name: any;
            };
        };
        credentials?: undefined;
    }>;
    saveCalendlyLink(userId: string, workspaceId: string, calendlyLink: string): Promise<{
        id: string;
        userId: string;
        workspaceId: string | null;
        providerType: import("@prisma/client").$Enums.OAuthProviderType;
        providerPlan: string | null;
        providerUserId: string | null;
        providerEmail: string | null;
        accessToken: string;
        refreshToken: string | null;
        tokenType: string;
        expiresAt: Date | null;
        scope: string | null;
        metadata: import("@prisma/client/runtime/library").JsonValue;
        webhookUrl: string | null;
        webhookSigningKey: string | null;
        webhookEnabled: boolean;
        webhookLastVerifiedAt: Date | null;
        webhookFailedAttempts: number;
        pollingEnabled: boolean;
        pollingLastRunAt: Date | null;
        pollingCursor: string | null;
        apiRateLimitRemaining: number | null;
        apiRateLimitResetAt: Date | null;
        isActive: boolean;
        lastUsedAt: Date | null;
        lastSyncedAt: Date | null;
        deletedAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    getCalendlyLink(workspaceId: string): Promise<string | null>;
    getCalendarCredentials(workspaceId: string): Promise<{
        accessToken: any;
        expiresAt: Date | null;
        id: string;
        userId: string;
        workspaceId: string | null;
        providerType: import("@prisma/client").$Enums.OAuthProviderType;
        providerPlan: string | null;
        providerUserId: string | null;
        providerEmail: string | null;
        refreshToken: string | null;
        tokenType: string;
        scope: string | null;
        metadata: import("@prisma/client/runtime/library").JsonValue;
        webhookUrl: string | null;
        webhookSigningKey: string | null;
        webhookEnabled: boolean;
        webhookLastVerifiedAt: Date | null;
        webhookFailedAttempts: number;
        pollingEnabled: boolean;
        pollingLastRunAt: Date | null;
        pollingCursor: string | null;
        apiRateLimitRemaining: number | null;
        apiRateLimitResetAt: Date | null;
        isActive: boolean;
        lastUsedAt: Date | null;
        lastSyncedAt: Date | null;
        deletedAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
    } | null>;
    getGmailConnectionStatus(workspaceId: string): Promise<{
        connected: boolean;
        email: string | null;
        lastUsedAt: Date | null;
    }>;
}
